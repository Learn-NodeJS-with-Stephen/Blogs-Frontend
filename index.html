<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blog Post</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <div class="container nav-container">
        <h1 class="logo">Blog Post</h1>
        <nav>
          <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="blog.html">Blog</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="contact.html">COntact</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <section class="hero">
      <h1>Welcome to the Lifestyle Blog</h1>
      <p>Explore articles on fashion, wellness, travel, and more.</p>
    </section>

    <section class="blog-section" id="latest-posts">
      <h2>Latest Posts</h2>
      <div class="post-list" id="post-list"></div>
    </section>

    <footer>
      <div class="socials">
        <a href="#">Instagram</a>
        <a href="#">Twitter</a>
        <a href="#">Facebook</a>
      </div>
      <form id="subscribe-form">
        <input type="email" placeholder="Enter your email" required />
        <button type="submit">Subscribe</button>
      </form>
      <p>Â© 2025 Lifestyle Blog</p>
    </footer>

    <script>
      const blogList = document.getElementById("post-list");

      fetch("http://localhost:3600/blogs")
        .then((res) => res.json())
        .then((data) => {
          if (data.success && data.data) {
            data.data.slice(0, 3).forEach((post) => {
              const div = document.createElement("div");
              div.className = "post-card";
              div.innerHTML = `
              <h3>${post.title}</h3>
              <p>${post.content.substring(0, 120)}...</p>
              <span>By ${post.username} | ${new Date(
                post.created_at
              ).toDateString()}</span>
            `;
              blogList.appendChild(div);
            });
          }
        });
    </script>
  </body>
</html>
